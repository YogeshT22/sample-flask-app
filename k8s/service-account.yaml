# --------------------------------------
# Kubernetes ServiceAccount and ClusterRoleBinding for Jenkins
# Purpose: Allow Jenkins to manage Kubernetes resources
# Target: Local development using Kubernetes
# ---------------------------------------

apiVersion: v1
kind: ServiceAccount
metadata:
  name: jenkins-admin
  namespace: default
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: jenkins-admin-binding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
  - kind: ServiceAccount
    name: jenkins-admin
    namespace: default
# Dev note: Creates a ServiceAccount and binds it to cluster-admin for full K8s access.
# Dev note: Used by Jenkins to deploy/manage resources in the default namespace.
# WARNING: cluster-admin is powerful.
# in prod, using a least-privilege role is better.

